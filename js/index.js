var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,i=(t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,a=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&i(e,n,t[n]);if(r)for(var n of r(t))s.call(t,n)&&i(e,n,t[n]);return e},c=(e,r)=>t(e,n(r)),l=(e,t)=>{var n={};for(var i in e)o.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&r)for(var i of r(e))t.indexOf(i)<0&&s.call(e,i)&&(n[i]=e[i]);return n};import{a as p,j as u,r as d,q as f,S as h,H as x,B as m,L as g,D as y,b as j,u as b,T as w,c as C,R as _,d as v,l as P,e as E,f as k,g as S,h as R,i as A,k as O,m as I,n as q,o as N}from"./vendor.js";const D=undefined;(function e(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver((e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&r(e)})).observe(document,{childList:!0,subtree:!0})}function n(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}function r(e){if(e.ep)return;e.ep=!0;const t=n(e);fetch(e.href,t)}})();var L="";const F={},B={default:p.create(F)};function H(e){if(e){if(B[e])return B;B[e]=p.create(F)}return B}const M=({appConfig:e})=>{if(e.request){const{request:t={}}=e;if("[object Array]"===Object.prototype.toString.call(t))t.forEach((e=>{const t=e.instanceName?e.instanceName:"default";if(t){const n=undefined;T(e,H(t)[t])}}));else{const e=undefined;T(t,H().default)}}};function T(e,t){const n=e,{interceptors:r={}}=n,o=l(n,["interceptors"]);Object.keys(o).forEach((e=>{t.defaults[e]=o[e]})),r.request&&t.interceptors.request.use(r.request.onConfig||function(e){return e},r.request.onError||function(e){return Promise.reject(e)}),r.response&&t.interceptors.response.use(r.response.onConfig||function(e){return e},r.response.onError||function(e){return Promise.reject(e)})}function z(e){M({appConfig:e})}const $=(e,t)=>`${e.toString()}\n\nThis is located at:${t}`,G={display:"flex",flexDirection:"column",alignItems:"center",margin:"100px 0",color:"#ed3131"},K=({componentStack:e,error:t})=>u.exports.jsxs("div",{style:G,title:$(t,e),children:[u.exports.jsxs("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"843",width:"60",height:"60",children:[u.exports.jsx("path",{d:"M1024 512C1024 229.23 794.77 0 512 0S0 229.23 0 512s229.23 512 512 512c117.41 0 228.826-39.669 318.768-111.313 10.79-8.595 12.569-24.308 3.975-35.097-8.594-10.789-24.308-12.568-35.097-3.974C718.47 938.277 618.002 974.049 512 974.049 256.818 974.049 49.951 767.182 49.951 512S256.818 49.951 512 49.951 974.049 256.818 974.049 512c0 87.493-24.334 171.337-69.578 243.96-7.294 11.708-3.716 27.112 7.992 34.405 11.707 7.294 27.11 3.716 34.405-7.991C997.014 701.88 1024 608.898 1024 512z","p-id":"844",fill:"#cdcdcd"}),u.exports.jsx("path",{d:"M337.17 499.512c34.485 0 62.44-27.955 62.44-62.439s-27.955-62.439-62.44-62.439c-34.483 0-62.438 27.955-62.438 62.44 0 34.483 27.955 62.438 62.439 62.438z m374.635 0c34.484 0 62.439-27.955 62.439-62.439s-27.955-62.439-62.44-62.439c-34.483 0-62.438 27.955-62.438 62.44 0 34.483 27.955 62.438 62.439 62.438zM352.788 704.785c43.377-34.702 100.364-55.425 171.7-55.425 71.336 0 128.322 20.723 171.7 55.425 26.513 21.21 42.695 42.786 50.444 58.284 6.168 12.337 1.168 27.34-11.17 33.508-12.337 6.169-27.34 1.168-33.508-11.17-0.918-1.834-3.462-6.024-7.788-11.793-7.564-10.084-17.239-20.269-29.183-29.824-34.671-27.737-80.71-44.478-140.495-44.478-59.786 0-105.824 16.74-140.496 44.478-11.944 9.555-21.619 19.74-29.182 29.824-4.327 5.769-6.87 9.959-7.788 11.794-6.169 12.337-21.171 17.338-33.509 11.17-12.337-6.17-17.338-21.172-11.169-33.509 7.75-15.498 23.931-37.074 50.444-58.284z","p-id":"845",fill:"#cdcdcd"})]}),u.exports.jsx("h3",{children:"Oops! Something went wrong."})]});class V extends d.exports.Component{constructor(e){super(e),this.state={error:null,info:{componentStack:""}}}componentDidCatch(e,t){const{onError:n}=this.props;if("function"==typeof n)try{n.call(this,e,t.componentStack)}catch(r){}this.setState({error:e,info:t})}render(){const{children:e,Fallback:t}=this.props,{error:n,info:r}=this.state;return null!==n&&"function"==typeof t?u.exports.jsx(t,{componentStack:r&&r.componentStack,error:n}):e||null}}V.defaultProps={Fallback:K};var W=({appConfig:e,wrapperPageComponent:t,buildConfig:n,context:r,applyRuntimeAPI:o,getRuntimeValue:s,addProvider:i})=>{const{app:a={}}=e,{ErrorBoundaryFallback:c,onErrorBoundaryHandler:l,renderComponent:p,addProvider:u}=a;u&&i(u);const{parseSearchParams:d=!0}=a;d&&t(Y(o)),t(J()),t(Z(c,l)),s("enableRouter")};function Y(e){const t=undefined;return t=>{const n=undefined;return n=>{const r=e("getSearchParams");return u.exports.jsx(t,a({},Object.assign({},n,{searchParams:r})))}}}function Z(e,t){const n=undefined;return n=>{const{pageConfig:r={}}=n,o=undefined;return o=>r.errorBoundary?u.exports.jsx(V,{Fallback:e,onError:t,children:u.exports.jsx(n,a({},o))}):u.exports.jsx(n,a({},o))}}function J(){const e=undefined;return e=>{const{pageConfig:t}=e,{title:n,scrollToTop:r}=t||{},o=undefined;return t=>{const[o,s]=d.exports.useState(window.__ICE_PAGE_PROPS__);return d.exports.useEffect((()=>{n&&(document.title=n),r&&window.scrollTo(0,0),window.__ICE_PAGE_PROPS__?window.__ICE_PAGE_PROPS__=null:e.getInitialProps&&(async()=>{const{href:t,origin:n,pathname:r,search:o}=window.location,i=undefined,a=undefined,c=undefined,l={pathname:r,path:t.replace(n,""),query:f.parse(o),ssrError:window.__ICE_SSR_ERROR__},p=await e.getInitialProps(l);s(p)})()}),[]),u.exports.jsx(e,a({},Object.assign({},t,o)))}}}const Q=[{name:"home",path:"/",icon:h},{name:"Dashboard",path:"/dashboard",icon:x}],U=e=>e.map((e=>{var t=e,{icon:n,children:r}=t,o=l(t,["icon","children"]);return c(a({},o),{icon:d.exports.createElement(n),children:r&&U(r)})}));function X({children:e,location:t}){return u.exports.jsx(m,{title:"icejs & antd",style:{minHeight:"100vh"},location:{pathname:t.pathname},menuDataRender:()=>U(Q),menuItemRender:(e,t)=>e.path?u.exports.jsx(g,{to:e.path,children:t}):t,footerRender:()=>u.exports.jsx(y,{links:[{key:"icejs",title:"icejs",href:"https://github.com/ice-lab/icejs"},{key:"antd",title:"antd",href:"https://github.com/ant-design/ant-design"}],copyright:"by icejs & antd"}),children:u.exports.jsx("div",{style:{minHeight:"60vh"},children:e})})}function ee(){return u.exports.jsx("div",{children:u.exports.jsx("h2",{children:"Dashboard page"})})}const te=async function(e){try{const t=e.instanceName?e.instanceName:"default",n=H()[t];if("function"!=typeof n)throw new Error(`unknown ${t} in request method`);const r=await n(e);return n.defaults.withFullResponse||e.withFullResponse?r:r.data}catch(t){throw console.error(t),t}};function ne(e,t={}){const n=b(e,a({manual:!0,requestMethod:te},t)),{run:r}=n,o=l(n,["run"]);return a({request:r},o)}j.forEach(["delete","get","head","options"],(function e(t){te[t]=function(e,n){return te(j.merge(n||{},{method:t,url:e}))}})),j.forEach(["post","put","patch"],(function e(t){te[t]=function(e,n,r){return te(j.merge(r||{},{method:t,url:e,data:n}))}})),te.CancelToken=p.CancelToken,te.isCancel=p.isCancel;const re=undefined;var oe="_container_5r303_1";function se(){const{data:e,error:t,loading:n,request:r}=ne({url:"/api/getRepos"}),{dataSource:o=[]}=e||{};return d.exports.useEffect((()=>{console.log("Home useEffect...."),async function(){await r()}()}),[]),u.exports.jsxs("div",{className:oe,children:[u.exports.jsx("h2",{children:"Home page"}),t?u.exports.jsxs("div",{children:["request error: ",t.message]}):u.exports.jsxs(w,{loading:n,dataSource:o,rowKey:"id",children:[u.exports.jsx(w.Column,{title:"ID",dataIndex:"id"},"id"),u.exports.jsx(w.Column,{title:"\u540d\u79f0",dataIndex:"name"},"name"),u.exports.jsx(w.Column,{title:"\u63cf\u8ff0",dataIndex:"description"},"description")]})]})}const ie=undefined,ae=[{path:"/",component:X,children:[{path:"/dashboard",component:ee},{path:"/",exact:!0,component:se},{component:({name:e})=>u.exports.jsxs("div",{children:[u.exports.jsx("h2",{children:"404"}),u.exports.jsx("div",{children:u.exports.jsx(g,{to:"/",children:"Home"})}),u.exports.jsx("div",{children:u.exports.jsx(g,{to:"/dashboard",children:"Dashboard"})})]})}]}];function ce(e,t){return(t||[]).reduce(((e,t)=>{const n=t(e);return e.pageConfig&&(n.pageConfig=e.pageConfig),e.getInitialProps&&(n.getInitialProps=e.getInitialProps),n}),e)}function le(e,t){t&&["pageConfig","getInitialProps"].forEach((n=>{Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))}function pe(e,t,n,r){const{__LAZY__:o,dynamicImport:s,__LOADABLE__:i}=e||{};return i?P(s,{resolveComponent:e=>{const r=e.default;return le(r,n),ce(r,t)},fallback:r}):o?d.exports.lazy((()=>s().then((e=>{if(t&&t.length){const r=e.default;return le(r,n),c(a({},e),{default:ce(r,t)})}return e})))):(le(e,n),ce(e,t))}function ue(e,t){return e.map((e=>{const n=e,{children:r,component:o,routeWrappers:s,wrappers:i}=n,c=l(n,["children","component","routeWrappers","wrappers"]);let p=r?[]:s;i&&i.length&&(p=p.concat(i));const u=a({},c);return o&&(u.component=pe(o,p,e,t)),r&&(u.children=ue(r,t)),u}))}function de(e){const t=e,{type:n,children:r}=t,o=l(t,["type","children"]);let s=r;if(!s&&e.routes){const t=ue(e.routes,e.fallback);s=u.exports.jsx(fe,{routes:t,fallback:e.fallback})}return"static"===n?u.exports.jsx(E,c(a({},o),{children:s})):u.exports.jsx(k,c(a({},o),{children:s}))}function fe({routes:e,fallback:t}){return u.exports.jsx(C,{children:e.map(((e,n)=>{const{children:r}=e;if(r){const r=e,{component:o,children:s}=r,i=l(r,["component","children"]),p=u.exports.jsx(fe,{routes:s,fallback:t}),d=e=>o?u.exports.jsx(o,c(a({},e),{children:p})):p;return u.exports.jsx(v,c(a({},i),{render:d}),n)}if(e.redirect){const t=e,{redirect:r}=t,o=l(t,["redirect"]);return u.exports.jsx(_,a({from:e.path,to:r},o),n)}{const r=e,{component:o}=r,s=l(r,["component"]);if(o){const e=window.__ICE_SSR_ENABLED__?e=>u.exports.jsx(o,a({},e)):e=>u.exports.jsx(d.exports.Suspense,{fallback:t||u.exports.jsx("div",{children:"loading"}),children:u.exports.jsx(o,a({},e))});return u.exports.jsx(v,c(a({},s),{render:e}),n)}return console.error("[Router] component is required when config routes"),null}}))})}function he(...e){if(0===e.length)return"";const t=[],n=e.filter((e=>""!==e));return n.forEach(((e,r)=>{if("string"!=typeof e)throw new Error(`Path must be a string. Received ${e}`);let o=e;r>0&&(o=o.replace(/^[/]+/,"")),o=r<n.length-1?o.replace(/[/]+$/,""):o.replace(/[/]+$/,"/"),t.push(o)})),t.join("/")}function xe(e,t){return e.map((e=>{const n={};if(e.path){const r=he(t||"",e.path);n.path="/"===r?"/":r.replace(/\/$/,"")}if(e.children)n.children=xe(e.children,n.path||e.path);else if(e.component){const t=e.component;t.pageConfig=Object.assign({},t.pageConfig,{componentName:t.name})}return a(a({},e),n)}))}const me=({setRenderApp:e,appConfig:t,modifyRoutes:n,modifyRoutesComponent:r,buildConfig:o,context:s,applyRuntimeAPI:i})=>{const{router:p={}}=t;n((()=>xe(p.routes||ae,""))),r((()=>fe)),p.modifyRoutes&&n(p.modifyRoutes);const d=o&&o.router&&o.router.lazy,f=undefined;e(((e,t,n={})=>()=>{let r=a(c(a({},p),{lazy:d}),n);r.history||(r.history=i("createHistory",{type:p.type,basename:p.basename}));const o=r,{fallback:s}=o,f=l(o,["fallback"]);return u.exports.jsx(de,c(a({},f),{children:t?u.exports.jsx(t,{routes:ue(e,s),fallback:s}):null}))}))},ge=d.exports.createContext(null),ye=({value:e={},children:t})=>{const[n,r]=d.exports.useState(e),o=(e={})=>{r(a(a({},n),e))};return u.exports.jsx(ge.Provider,{value:[n,o],children:t})},je=()=>{const e=undefined;return d.exports.useContext(ge)};function be(e){const t=undefined;return t=>{const[n,r]=je(),o=e;return u.exports.jsx(o,c(a({},t),{auth:n,setAuth:r}))}}const we=e=>t=>{const{pageConfig:n={}}=t,r=undefined;return be((r=>{const o=r,{auth:s,setAuth:i}=o,c=l(o,["auth","setAuth"]),p=n.auth;if(p&&!Array.isArray(p))throw new Error("pageConfig.auth must be an array");const d=undefined;return!Array.isArray(p)||!p.length||Object.keys(s).filter((e=>!!p.includes(e)&&s[e])).length?u.exports.jsx(t,a({},c)):e.NoAuthFallback?"function"==typeof e.NoAuthFallback?u.exports.jsx(e.NoAuthFallback,{}):e.NoAuthFallback:null}))};var Ce=({context:e,appConfig:t,addProvider:n,wrapperPageComponent:r})=>{const o=undefined,s=(e&&e.initialData?e.initialData:{}).auth||{},i=t.auth||{},a=undefined;n((({children:e})=>u.exports.jsx(ye,{value:s,children:e}))),r(we(i))};function _e(e){e.loadModule(W),e.loadModule(me),e.loadModule(Ce)}const ve={mpa:!1,icestarkType:"es"},Pe={enableRouter:!0},Ee=S({loadRuntimeModules:_e,createElement:d.exports.createElement,runtimeAPI:{createHistory:R,getSearchParams:A},runtimeValue:Pe});function ke(e){z(e),O&&O(e),I({appConfig:e,buildConfig:ve,ErrorBoundary:V,appLifecycle:{createBaseApp:Ee,initAppLifeCycles:q,emitLifeCycles:N}})}const Se=undefined;ke({app:{rootId:"ice-container"},router:{type:"hash"}});
